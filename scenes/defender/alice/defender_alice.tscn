[gd_scene format=3 uid="uid://cag1qy4k6ixe8"]

[ext_resource type="Script" uid="uid://fbl4gw0rubi0" path="res://scenes/defender/defender.gd" id="1_pvq5y"]
[ext_resource type="Script" uid="uid://dxtdgl2qwcrv0" path="res://scripts/states/statemachine.gd" id="2_kt0wf"]
[ext_resource type="Script" uid="uid://cuu2gghcjuom" path="res://scripts/states/defender/idle.gd" id="3_q6lsj"]
[ext_resource type="Script" uid="uid://depowfuse2tbe" path="res://scripts/states/defender/attack.gd" id="4_tnftr"]
[ext_resource type="Texture2D" uid="uid://oihd8igq0oi6" path="res://assets/image/alice/head.png" id="5_0yxl0"]
[ext_resource type="Texture2D" uid="uid://c3wci08ukls52" path="res://assets/image/alice/hair2.png" id="6_y0u7p"]
[ext_resource type="Texture2D" uid="uid://bar2wd4fto0kl" path="res://assets/image/alice/hair.png" id="7_2auju"]
[ext_resource type="Texture2D" uid="uid://bikb16mnc3wym" path="res://assets/image/alice/feet1.png" id="8_hsem0"]
[ext_resource type="Texture2D" uid="uid://bfsqe3o33kkur" path="res://assets/image/alice/feet2.png" id="9_qeywn"]
[ext_resource type="Texture2D" uid="uid://bo2tuli3px47i" path="res://assets/image/alice/torso.png" id="10_qwvx6"]
[ext_resource type="Texture2D" uid="uid://btmt5qnah84mj" path="res://assets/image/alice/shoulder.png" id="11_w24nj"]
[ext_resource type="Texture2D" uid="uid://dpbu7hvdelpxi" path="res://assets/image/alice/forearm.png" id="12_d408p"]
[ext_resource type="Texture2D" uid="uid://dcvf160x3c8hu" path="res://assets/image/alice/hand.png" id="13_nfkbd"]
[ext_resource type="Texture2D" uid="uid://b4yhkyctln0ax" path="res://assets/image/badgirl/forearm.png" id="14_th855"]

[sub_resource type="Animation" id="Animation_0yxl0"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Alice/CanvasGroup/Torso/l_head:rotation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [0.19924922]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Alice/CanvasGroup/torso:rotation")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [0.0]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("Alice/CanvasGroup/Torso/l_arm:rotation")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [-0.07679449]
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("Alice/CanvasGroup/Torso/r_arm:rotation")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [-0.38397244]
}
tracks/4/type = "value"
tracks/4/imported = false
tracks/4/enabled = true
tracks/4/path = NodePath("Alice/CanvasGroup/Torso/RightHand/r_armlimb:rotation")
tracks/4/interp = 1
tracks/4/loop_wrap = true
tracks/4/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [3.450516]
}
tracks/5/type = "value"
tracks/5/imported = false
tracks/5/enabled = true
tracks/5/path = NodePath("Alice/CanvasGroup/Torso/RightHand/RightArm/r_hands:rotation")
tracks/5/interp = 1
tracks/5/loop_wrap = true
tracks/5/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [0.0]
}
tracks/6/type = "value"
tracks/6/imported = false
tracks/6/enabled = true
tracks/6/path = NodePath("Alice/CanvasGroup/Torso/LeftHand/l_armlimb:rotation")
tracks/6/interp = 1
tracks/6/loop_wrap = true
tracks/6/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [1.9076449]
}
tracks/7/type = "value"
tracks/7/imported = false
tracks/7/enabled = true
tracks/7/path = NodePath("Alice/CanvasGroup/Torso/LeftHand/LeftArm/l_hands:rotation")
tracks/7/interp = 1
tracks/7/loop_wrap = true
tracks/7/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [-1.8744836]
}
tracks/8/type = "value"
tracks/8/imported = false
tracks/8/enabled = true
tracks/8/path = NodePath("Alice/CanvasGroup/Torso/l_rightfeet:rotation")
tracks/8/interp = 1
tracks/8/loop_wrap = true
tracks/8/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [0.0]
}
tracks/9/type = "value"
tracks/9/imported = false
tracks/9/enabled = true
tracks/9/path = NodePath("Alice/CanvasGroup/Torso/l_leftfeet:rotation")
tracks/9/interp = 1
tracks/9/loop_wrap = true
tracks/9/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [0.0]
}

[sub_resource type="Animation" id="Animation_q6lsj"]
resource_name = "idle"
length = 2.0
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Alice/CanvasGroup/Torso/l_head:rotation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 1, 2),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 0,
"values": [0.19924922, 0.28099800957108745, 0.19924922]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Alice/CanvasGroup/torso:rotation")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 1, 2),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 0,
"values": [0.0, 0.017453292519943295, 0.0]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("Alice/CanvasGroup/Torso/l_arm:rotation")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0, 1, 2),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 0,
"values": [-0.07679449, -0.07679449, -0.07679449]
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("Alice/CanvasGroup/Torso/r_arm:rotation")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0, 1, 2),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 0,
"values": [-0.38397244, -0.38397244, -0.38397244]
}
tracks/4/type = "value"
tracks/4/imported = false
tracks/4/enabled = true
tracks/4/path = NodePath("Alice/CanvasGroup/Torso/RightHand/r_armlimb:rotation")
tracks/4/interp = 1
tracks/4/loop_wrap = true
tracks/4/keys = {
"times": PackedFloat32Array(0, 1, 2),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 0,
"values": [3.755948550291798, 3.368485456349056, 3.755948550291798]
}
tracks/5/type = "value"
tracks/5/imported = false
tracks/5/enabled = true
tracks/5/path = NodePath("Alice/CanvasGroup/Torso/RightHand/RightArm/r_hands:rotation")
tracks/5/interp = 1
tracks/5/loop_wrap = true
tracks/5/keys = {
"times": PackedFloat32Array(0, 1, 2),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 0,
"values": [-0.6632251157578453, -1.684242728174528, -0.6632251157578453]
}
tracks/6/type = "value"
tracks/6/imported = false
tracks/6/enabled = true
tracks/6/path = NodePath("Alice/CanvasGroup/Torso/LeftHand/l_armlimb:rotation")
tracks/6/interp = 1
tracks/6/loop_wrap = true
tracks/6/keys = {
"times": PackedFloat32Array(0, 1, 2),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 0,
"values": [1.9076449, 1.9076449, 1.9076449]
}
tracks/7/type = "value"
tracks/7/imported = false
tracks/7/enabled = true
tracks/7/path = NodePath("Alice/CanvasGroup/Torso/LeftHand/LeftArm/l_hands:rotation")
tracks/7/interp = 1
tracks/7/loop_wrap = true
tracks/7/keys = {
"times": PackedFloat32Array(0, 1, 2),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 0,
"values": [-1.8744836, -1.8744836, -1.8744836]
}
tracks/8/type = "value"
tracks/8/imported = false
tracks/8/enabled = true
tracks/8/path = NodePath("Alice/CanvasGroup/Torso/l_rightfeet:rotation")
tracks/8/interp = 1
tracks/8/loop_wrap = true
tracks/8/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [0.0]
}
tracks/9/type = "value"
tracks/9/imported = false
tracks/9/enabled = true
tracks/9/path = NodePath("Alice/CanvasGroup/Torso/l_leftfeet:rotation")
tracks/9/interp = 1
tracks/9/loop_wrap = true
tracks/9/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [0.0]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_tnftr"]
_data = {
&"RESET": SubResource("Animation_0yxl0"),
&"idle": SubResource("Animation_q6lsj")
}

[sub_resource type="CircleShape2D" id="CircleShape2D_nnoro"]
radius = 111.75867

[node name="DefenderAlice" type="Area2D" unique_id=1060551954 node_paths=PackedStringArray("animation_player", "attack_timer")]
collision_mask = 16
script = ExtResource("1_pvq5y")
animation_player = NodePath("AnimationPlayer")
attack_timer = NodePath("AttackTimer")
many = true
damage = 35
metadata/_custom_type_script = "uid://fbl4gw0rubi0"

[node name="AnimationPlayer" type="AnimationPlayer" parent="." unique_id=2136892236]
libraries/ = SubResource("AnimationLibrary_tnftr")

[node name="StateMachine" type="Node" parent="." unique_id=1925451178 node_paths=PackedStringArray("initial_state")]
script = ExtResource("2_kt0wf")
initial_state = NodePath("Idle")
metadata/_custom_type_script = "uid://dxtdgl2qwcrv0"

[node name="Idle" type="Node" parent="StateMachine" unique_id=1179624701]
script = ExtResource("3_q6lsj")

[node name="Attack" type="Node" parent="StateMachine" unique_id=762713109]
script = ExtResource("4_tnftr")

[node name="CollisionShape2D" type="CollisionShape2D" parent="." unique_id=1149528616]
shape = SubResource("CircleShape2D_nnoro")

[node name="AttackTimer" type="Timer" parent="." unique_id=261862151]
wait_time = 2.0
one_shot = true

[node name="Alice" type="Node2D" parent="." unique_id=1425419980]
scale = Vector2(0.17, 0.17)

[node name="CanvasGroup" type="CanvasGroup" parent="Alice" unique_id=2107836777]

[node name="Head" type="Sprite2D" parent="Alice/CanvasGroup" unique_id=1828153734]
z_index = -1
position = Vector2(50, -449.9999)
rotation = 0.19924922
scale = Vector2(0.9999998, 0.9999998)
texture = ExtResource("5_0yxl0")
offset = Vector2(-40.000008, -99.99997)

[node name="Hair" type="Sprite2D" parent="Alice/CanvasGroup/Head" unique_id=1017631413]
position = Vector2(-37.51285, -135.25089)
texture = ExtResource("6_y0u7p")

[node name="Hair2" type="Sprite2D" parent="Alice/CanvasGroup/Head" unique_id=287110773]
z_index = -1
position = Vector2(-20.000006, -20.000004)
texture = ExtResource("7_2auju")

[node name="RightFeet" type="Sprite2D" parent="Alice/CanvasGroup" unique_id=915440628]
z_index = -3
position = Vector2(-59.481647, 169.99995)
rotation = -0.005192568
scale = Vector2(0.9999998, 0.9999998)
texture = ExtResource("8_hsem0")
offset = Vector2(0, 131)

[node name="LeftLeg" type="Sprite2D" parent="Alice/CanvasGroup" unique_id=608573220]
z_index = -3
position = Vector2(108.96328, 118.963295)
rotation = 0.0037021097
scale = Vector2(0.9999998, 0.9999998)
texture = ExtResource("9_qeywn")
offset = Vector2(0, 131)

[node name="Torso" type="Sprite2D" parent="Alice/CanvasGroup" unique_id=379671158]
z_index = -1
scale = Vector2(0.9999999, 0.9999999)
texture = ExtResource("10_qwvx6")
offset = Vector2(17, -143)

[node name="RightHand" type="Sprite2D" parent="Alice/CanvasGroup/Torso" unique_id=1866474387]
position = Vector2(-39.999996, -420.00003)
rotation = -0.3839724
scale = Vector2(0.99999994, 0.99999994)
texture = ExtResource("11_w24nj")
offset = Vector2(-43.627983, 66.52571)
flip_h = true
flip_v = true

[node name="RightArm" type="Sprite2D" parent="Alice/CanvasGroup/Torso/RightHand" unique_id=852455730]
z_index = 1
position = Vector2(-97.02018, 140.6666)
rotation = -2.5272367
scale = Vector2(1.0000001, 1.0000001)
texture = ExtResource("12_d408p")
offset = Vector2(45.178726, 57.894592)
flip_h = true
flip_v = true

[node name="Hands" type="Sprite2D" parent="Alice/CanvasGroup/Torso/RightHand/RightArm" unique_id=16781934]
position = Vector2(101.14383, 119.0376)
rotation = -0.66322523
texture = ExtResource("13_nfkbd")
offset = Vector2(-10.894234, 36.851685)
flip_h = true
flip_v = true

[node name="r_hands" type="RemoteTransform2D" parent="Alice/CanvasGroup/Torso/RightHand/RightArm" unique_id=1905048375]
position = Vector2(101.14383, 119.03759)
remote_path = NodePath("../Hands")

[node name="r_armlimb" type="RemoteTransform2D" parent="Alice/CanvasGroup/Torso/RightHand" unique_id=154389591]
position = Vector2(-97.02017, 140.66661)
rotation = 3.450516
remote_path = NodePath("../RightArm")

[node name="LeftHand" type="Sprite2D" parent="Alice/CanvasGroup/Torso" unique_id=806558829]
z_index = -1
position = Vector2(100.000015, -429.99997)
rotation = -0.07679449
scale = Vector2(0.9999998, 0.9999998)
texture = ExtResource("11_w24nj")
offset = Vector2(24.360146, 74.50841)
flip_v = true

[node name="LeftArm" type="Sprite2D" parent="Alice/CanvasGroup/Torso/LeftHand" unique_id=1884182252]
z_index = -1
position = Vector2(70.52791, 148.0737)
rotation = 1.9076449
scale = Vector2(0.99999994, 0.99999994)
texture = ExtResource("14_th855")
offset = Vector2(54.105026, 10.125961)
flip_v = true

[node name="Hands" type="Sprite2D" parent="Alice/CanvasGroup/Torso/LeftHand/LeftArm" unique_id=609399598]
z_index = 1
position = Vector2(110.25659, 24.104424)
rotation = -1.8744836
scale = Vector2(0.99999994, 0.99999994)
texture = ExtResource("13_nfkbd")
offset = Vector2(16.181526, 37.449722)
flip_v = true

[node name="l_hands" type="RemoteTransform2D" parent="Alice/CanvasGroup/Torso/LeftHand/LeftArm" unique_id=1864003324]
position = Vector2(110.256615, 24.104425)
rotation = -1.8744836
remote_path = NodePath("../Hands")

[node name="l_armlimb" type="RemoteTransform2D" parent="Alice/CanvasGroup/Torso/LeftHand" unique_id=582405913]
position = Vector2(70.5279, 148.07367)
rotation = 1.9076449
remote_path = NodePath("../LeftArm")

[node name="l_head" type="RemoteTransform2D" parent="Alice/CanvasGroup/Torso" unique_id=870275720]
position = Vector2(50.000008, -450)
rotation = 0.19924922
remote_path = NodePath("../../Head")

[node name="l_rightfeet" type="RemoteTransform2D" parent="Alice/CanvasGroup/Torso" unique_id=1827962775]
position = Vector2(-60.000008, 170.00002)
remote_path = NodePath("../../RightFeet")
update_position = false
update_rotation = false

[node name="l_leftfeet" type="RemoteTransform2D" parent="Alice/CanvasGroup/Torso" unique_id=887083465]
position = Vector2(110.00001, 120.000015)
remote_path = NodePath("../../LeftLeg")
update_position = false
update_rotation = false

[node name="l_arm" type="RemoteTransform2D" parent="Alice/CanvasGroup/Torso" unique_id=334830828]
position = Vector2(100.000015, -430)
rotation = -0.07679449
scale = Vector2(0.99999994, 0.99999994)
remote_path = NodePath("../LeftHand")

[node name="r_arm" type="RemoteTransform2D" parent="Alice/CanvasGroup/Torso" unique_id=2041880475]
position = Vector2(-40, -420.00003)
rotation = -0.38397244
scale = Vector2(0.99999994, 0.99999994)
remote_path = NodePath("../RightHand")

[node name="torso" type="RemoteTransform2D" parent="Alice/CanvasGroup" unique_id=960737820]
remote_path = NodePath("../Torso")
